apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: ${{values.component_id | dump }}
  {%- if values.description %}
  description: ${{values.description | dump}}
  {%- endif %}
  links:
    - url: ${{values.owner + "/" + values.repo}}
      title: GitHub Repo
      icon: github
spec:
  type: openapi
  lifecycle: experimental
  owner: group:default/${{values.owner}}
  definition:
    $text: ./api-docs.json